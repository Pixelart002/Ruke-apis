<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YUKU Protocol API Reference</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; color: #202124; }
  h1, h2 { color: #1a73e8; }
  table { border-collapse: collapse; width: 100%; margin-bottom: 40px; background: #fff; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
  th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
  th { background-color: #1a73e8; color: white; }
  tr:nth-child(even) { background-color: #f9f9f9; }
  code { background: #eee; padding: 2px 6px; border-radius: 4px; }
  .copycode { background: #202124; color: #fff; padding: 12px; border-radius: 6px; font-family: monospace; overflow-x: auto; }
  a { color: #1a73e8; text-decoration: none; }
</style>
</head>
<body>

<h1>YUKU Protocol API Reference</h1>
<p>Frontend URL: <a href="https://yuku-nine.vercel.app/app.html" target="_blank">https://yuku-nine.vercel.app/app.html</a></p>

<h2>1. Authentication (auth)</h2>
<table>
<tr><th>Method</th><th>Endpoint</th><th>Description</th></tr>
<tr><td>POST</td><td>/auth/register</td><td>Register new user (vendor or customer)</td></tr>
<tr><td>POST</td><td>/auth/login</td><td>Login user, returns JWT token</td></tr>
<tr><td>POST</td><td>/auth/forgot-password</td><td>Request password reset email</td></tr>
<tr><td>POST</td><td>/auth/reset-password</td><td>Reset password using token</td></tr>
<tr><td>GET</td><td>/auth/me</td><td>Get current logged-in user info</td></tr>
</table>

<h2>2. Users</h2>
<table>
<tr><th>Method</th><th>Endpoint</th><th>Description</th></tr>
<tr><td>GET</td><td>/users/me</td><td>Get profile info</td></tr>
<tr><td>PUT</td><td>/users/me</td><td>Update profile info (fullname, username)</td></tr>
</table>

<h2>3. AI / YUKU MCP</h2>
<table>
<tr><th>Method</th><th>Endpoint</th><th>Description</th></tr>
<tr><td>POST</td><td>/ai/ask</td><td>Ask AI with optional tool override and file upload</td></tr>
<tr><td>GET</td><td>/ai/tools</td><td>List all AI tools</td></tr>
<tr><td>POST</td><td>/ai/sandbox/host</td><td>Host sandboxed code project (index.html required)</td></tr>
</table>

<h2>4. Store / Vendor Operations</h2>
<table>
<tr><th>Method</th><th>Endpoint</th><th>Description</th></tr>
<tr><td>POST</td><td>/store/products</td><td>Add new product</td></tr>
<tr><td>GET</td><td>/store/products</td><td>List all products</td></tr>
<tr><td>GET</td><td>/store/products/{product_id}</td><td>Get product details</td></tr>
<tr><td>PUT</td><td>/store/products/{product_id}</td><td>Update product (vendor only)</td></tr>
<tr><td>DELETE</td><td>/store/products/{product_id}</td><td>Delete product (vendor only)</td></tr>
<tr><td>POST</td><td>/store/orders</td><td>Create new order</td></tr>
<tr><td>GET</td><td>/store/orders</td><td>List all vendor orders</td></tr>
<tr><td>GET</td><td>/store/orders/{order_id}</td><td>Get specific order</td></tr>
<tr><td>POST</td><td>/store/orders/{order_id}/update-status</td><td>Update order status</td></tr>
<tr><td>POST</td><td>/store/orders/{order_id}/generate-bill</td><td>Generate bill and QR code for order</td></tr>
<tr><td>POST</td><td>/store/discounts</td><td>Create discount/coupon</td></tr>
<tr><td>GET</td><td>/store/discounts</td><td>List all discounts</td></tr>
<tr><td>DELETE</td><td>/store/discounts/{discount_id}</td><td>Delete discount</td></tr>
<tr><td>GET</td><td>/store/catalog</td><td>Get current catalog</td></tr>
<tr><td>POST</td><td>/store/catalog/share</td><td>Generate shareable catalog link</td></tr>
<tr><td>POST</td><td>/store/ads</td><td>Create a promotion ad</td></tr>
<tr><td>GET</td><td>/store/ads</td><td>List all ads</td></tr>
<tr><td>POST</td><td>/store/notify</td><td>Send notification to customers</td></tr>
</table>

<h2>5. Notifications / WebPush</h2>
<table>
<tr><th>Method</th><th>Endpoint</th><th>Description</th></tr>
<tr><td>GET</td><td>/webpush/vapid-public-key</td><td>Get VAPID public key for push subscriptions</td></tr>
<tr><td>POST</td><td>/webpush/subscribe</td><td>Subscribe current user for push notifications</td></tr>
<tr><td>POST</td><td>/webpush/send-test</td><td>Send test notification</td></tr>
<tr><td>POST</td><td>/webpush/send-custom</td><td>Send custom notification to specific user (with optional image)</td></tr>
<tr><td>POST</td><td>/webpush/broadcast</td><td>Send broadcast notification to all subscribed users (with optional image)</td></tr>
</table>

<h2>6. Feedback / Misc</h2>
<table>
<tr><th>Method</th><th>Endpoint</th><th>Description</th></tr>
<tr><td>POST</td><td>/feedback</td><td>Submit feedback (integrated later)</td></tr>
</table>

<p><strong>Backend Base URL:</strong> <code>https://open-feliza-pixelart002-78fb4fe8.koyeb.app/</code></p>
<p>Frontend URL: <a href="https://yuku-nine.vercel.app/app.html" target="_blank">https://yuku-nine.vercel.app/app.html</a></p>

</body>
</html>